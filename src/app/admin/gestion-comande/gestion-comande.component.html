<div class="container mt-5">
  <h2 class="text-center mb-4">List of Commandes</h2>
  <table class="table table-bordered table-hover table-striped">
    <thead class="thead-dark">
      <tr>
        <th>ID</th>
        <th>Customer</th>
        <th>Total Price</th>
        <th>Shipping Address</th>
        <th>Payment Method</th>
        <th>Order Status</th>
        <th>Ordered At</th>
        <th>Delivered At</th>
        <th>Created At</th>
        <th>Updated At</th>
        <th>Actions</th> <!-- Add this header for the buttons -->
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let comande of comandes">
        <td>{{ comande._id }}</td>
        <td>{{ comande.customer }}</td>
        <td>{{ comande.totalPrice | currency }}</td>
        <td>{{ comande.shippingAddress }}</td>
        <td>{{ comande.paymentMethod }}</td>
        <td>
          <span class="badge" [ngClass]="{
            'badge-success': comande.orderStatus === 'Delivered',
            'badge-warning': comande.orderStatus === 'Processing',
            'badge-danger': comande.orderStatus === 'Cancelled'
          }">{{ comande.orderStatus }}</span>
        </td>
        <td>{{ comande.orderedAt | date:'short' }}</td>
        <td>{{ comande.deliveredAt ? (comande.deliveredAt | date:'short') : 'Not Delivered' }}</td>
        <td>{{ comande.createdAt | date:'short' }}</td>
        <td>{{ comande.updatedAt | date:'short' }}</td>
        <td>
          <!-- Edit Order Status Button -->
          <button class="btn btn-warning btn-sm mr-2" (click)="editOrderStatus(comande._id)">
            Edit Status
          </button>
          <!-- Delete Button -->
          <button class="btn btn-danger btn-sm" (click)="deleteComande(comande._id)">
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
